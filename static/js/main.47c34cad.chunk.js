(this["webpackJsonpwuthering-echo"]=this["webpackJsonpwuthering-echo"]||[]).push([[0],{243:function(e,t,a){e.exports=a(466)},252:function(e,t,a){},466:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(228),i=a.n(o),r=(a(252),a(468)),s=a(469),p=a(239),c=a(89),d=a(39);var m=()=>{var e,t;const a="#0D1117",o="#161B22",i="#58A6FF",m="#7EE7B8",u="#C9D1D9",x="#8B949E",b="#FF79C6",g="#86EFAC",y="#FBBF24",f="#F87171",E="#1E293B",v="#3B82F6",h="#FFFFFF",S=[1,3,4],C={1:["HP","HP%","ATK%","DEF%"],3:["ATK","HP%","ATK%","DEF%","Aero DMG","Glacio DMG","Fusion DMG","Electro DMG","Havoc DMG","Spectro DMG","Energy Regen"],4:["ATK","HP%","ATK%","DEF%","CRIT Rate","CRIT DMG","Healing Bonus"]},k=["HP","ATK","DEF","HP%","ATK%","DEF%","CRIT Rate","CRIT DMG","Energy Regen","Basic Attack DMG Bonus","Heavy Attack DMG Bonus","Resonance Skill DMG Bonus","Resonance Liberation DMG Bonus"],w={HP:{values:[320,407,493,580],min:320,max:580,isFlat:!0},ATK:{values:[30,40,50,60],min:30,max:60,isFlat:!0},DEF:{values:[40,50,60,70],min:40,max:70,isFlat:!0},"HP%":{values:[6.4,7.1,7.9,8.6,9.4,10.1,10.9,11.6],min:6.4,max:11.6,isFlat:!1},"ATK%":{values:[6.4,7.1,7.9,8.6,9.4,10.1,10.9,11.6],min:6.4,max:11.6,isFlat:!1},"DEF%":{values:[8.1,9,10,10.9,11.8,12.8,13.8,14.7],min:8.1,max:14.7,isFlat:!1},"CRIT Rate":{values:[6.3,6.9,7.5,8.1,8.7,9.3,9.9,10.5],min:6.3,max:10.5,isFlat:!1},"CRIT DMG":{values:[12.6,13.8,15,16.2,17.4,18.6,19.8,21],min:12.6,max:21,isFlat:!1},"Energy Regen":{values:[6.8,7.6,8.4,9.2,10,10.8,11.6,12.4],min:6.8,max:12.4,isFlat:!1},"Basic Attack DMG Bonus":{values:[6.4,7.1,7.9,8.6,9.4,10.1,10.9,11.6],min:6.4,max:11.6,isFlat:!1},"Heavy Attack DMG Bonus":{values:[6.4,7.1,7.9,8.6,9.4,10.1,10.9,11.6],min:6.4,max:11.6,isFlat:!1},"Resonance Skill DMG Bonus":{values:[6.4,7.1,7.9,8.6,9.4,10.1,10.9,11.6],min:6.4,max:11.6,isFlat:!1},"Resonance Liberation DMG Bonus":{values:[6.4,7.1,7.9,8.6,9.4,10.1,10.9,11.6],min:6.4,max:11.6,isFlat:!1}},R=[7.39,6.9,20.72,24.9,18.23,13.6,5.34,2.93],F=[12.43,46.21,38.57,2.79],[B,M]=Object(l.useState)("echoCalculator"),[z,D]=Object(l.useState)(1),[T,j]=Object(l.useState)(""),[P,O]=Object(l.useState)([]),[A,I]=Object(l.useState)({}),[W,G]=Object(l.useState)(null),[H,N]=Object(l.useState)(0),[$,K]=Object(l.useState)(0),[V,X]=Object(l.useState)(0),[L,Y]=Object(l.useState)(0),[U,J]=Object(l.useState)(null),[q,Q]=Object(l.useState)(80),[Z,_]=Object(l.useState)(1),[ee,te]=Object(l.useState)(""),[ae,le]=Object(l.useState)([]),[ne,oe]=Object(l.useState)({}),[ie,re]=Object(l.useState)([]),[se,pe]=Object(l.useState)({}),[ce,de]=Object(l.useState)(null),[me,ue]=Object(l.useState)(0),[xe,be]=Object(l.useState)(0),[ge,ye]=Object(l.useState)(0),[fe,Ee]=Object(l.useState)(0),[ve,he]=Object(l.useState)(null),[Se,Ce]=Object(l.useState)(80);Object(l.useEffect)(()=>{C[z]&&(j(C[z][0]),O([]),I({}),G(null),J(null))},[z]),Object(l.useEffect)(()=>{C[Z]&&(te(C[Z][0]),le([]),oe({}),re([]),pe({}),de(null),he(null))},[Z]);const ke=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const l=w[e].values;let n=parseFloat(t);if(a){const t=l.indexOf(A[e]||l[0]);let n;return"up"===a?n=Math.min(t+1,l.length-1):"down"===a&&(n=Math.max(t-1,0)),void I({...A,[e]:l[n]})}const o=l.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e);I({...A,[e]:o})},we=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const l=w[e].values;let n=parseFloat(t);if(a){const t=l.indexOf(ne[e]||l[0]);let n;return"up"===a?n=Math.min(t+1,l.length-1):"down"===a&&(n=Math.max(t-1,0)),void oe({...ne,[e]:l[n]})}const o=l.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e);oe({...ne,[e]:o})},Re=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const l=w[e].values;let n=parseFloat(t);if(a){const t=l.indexOf(se[e]||l[0]);let n;return"up"===a?n=Math.min(t+1,l.length-1):"down"===a&&(n=Math.max(t-1,0)),void pe({...se,[e]:l[n]})}const o=l.reduce((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e);pe({...se,[e]:o})},Fe=(e,t)=>{const a=w[e].values,l=w[e].isFlat?F:R,n=a.indexOf(t);if(-1===n)return 0;let o=0;for(let i=n;i<l.length;i++)o+=l[i];return Math.min(o,100)},Be=(e,t)=>{let a=1;for(let l=0;l<t;l++)a*=e-l;return a},Me=e=>100===(e=Math.min(e,100))?"100%":e<1e-4?e.toExponential(4)+"%":e<.01?e.toFixed(6)+"%":e<1?e.toFixed(4)+"%":e.toFixed(2)+"%",ze=e=>{if(e<=0||e>=100)return"N/A";return"1/"+Math.round(100/e)},De=(e,t,a)=>{if(e<=0||e>=100)return void t({message:"Probability is invalid for Waveplate calculation."});const l=a/100;if(l<=0||l>=1)return void t({message:"Confidence level must be between 0 and 100%."});const n=1-e/100,o=1-l,i=15*Math.ceil(Math.log(o)/Math.log(n)),r=6*i,s=Math.floor(r/1440),p=Math.floor(r%1440/60),c=Math.floor(r%60);let d="";s>0&&(d+=`${s} day${1!==s?"s":""}`),p>0&&(d&&(d+=", "),d+=`${p} hour${1!==p?"s":""}`),c>0&&(d&&(d+=", "),d+=`${c} minute${1!==c?"s":""}`),d||(d="0 minutes"),t({waveplates:i,time:d,confidence:a})},Te=()=>W?[{name:"Main Stat",value:parseFloat(W.mainStat.probability)},{name:"Substats",value:parseFloat(W.substatComboProbability)},{name:"Values",value:parseFloat(W.valuesProbability)}]:[],je=()=>!ce||ce.error?[]:[{name:"Main Stat",value:parseFloat(ce.mainStat.probability)},{name:"Substats",value:parseFloat(ce.substatComboProbability)},{name:"Values",value:parseFloat(ce.valuesProbability)}],Pe=[i,m,y],Oe=e=>{let{cx:t,cy:a,midAngle:l,innerRadius:o,outerRadius:i,percent:r,index:s,name:p}=e;const c=Math.PI/180,d=i+20,m=t+d*Math.cos(-l*c),x=a+d*Math.sin(-l*c);return n.a.createElement("text",{x:m,y:x,fill:u,fontSize:12,textAnchor:m>t?"start":"end",dominantBaseline:"central"},`${p}: ${(100*r).toFixed(1)}%`)},Ae=(e,t,a)=>{const l=(e-t)/(a-t),n=Math.pow(l,.5);return`rgb(${Math.round(255*(1-n))}, ${Math.round(50+155*n)}, 0)`},Ie=R.map((e,t)=>({prob:e,index:t+1})),We=F.map((e,t)=>({prob:e,index:t+1})),Ge=[...R].sort((e,t)=>e-t),He=[...F].sort((e,t)=>e-t),Ne=Ge[0],$e=Ge[Ge.length-1],Ke=He[0],Ve=He[He.length-1],Xe=(e,t,a,l)=>n.a.createElement("div",{key:l,style:{display:"grid",gridTemplateColumns:"50px 1fr 60px",alignItems:"center",gap:"10px"}},n.a.createElement("span",{style:{fontSize:"14px",color:x}},"Tier ",l+1,":"),n.a.createElement("div",{style:{height:"20px",backgroundColor:E,borderRadius:"4px",position:"relative",overflow:"hidden"}},n.a.createElement("div",{style:{width:e+"%",height:"100%",backgroundColor:Ae(e,t,a),borderRadius:"4px"}})),n.a.createElement("span",{style:{fontSize:"12px",color:u,textAlign:"right",cursor:"pointer",position:"relative"}},Me(e),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(e))));return n.a.createElement("div",{style:{backgroundColor:a,color:u,fontFamily:"'Segoe UI', sans-serif",minHeight:"100vh",padding:"20px",display:"flex",flexDirection:"column",alignItems:"center"}},n.a.createElement("div",{style:{maxWidth:"1000px",width:"100%",marginBottom:"20px"}},n.a.createElement("h1",{style:{textAlign:"center",color:m,fontSize:"28px",marginBottom:"5px"}},"Wuthering Waves Echo Calculator"),n.a.createElement("h2",{style:{textAlign:"center",color:i,fontSize:"16px",fontWeight:"normal",marginTop:0}},"Calculate your odds of getting the perfect Echo"),n.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"20px 0"}},n.a.createElement("button",{onClick:()=>M("echoCalculator"),style:{backgroundColor:"echoCalculator"===B?v:E,color:h,border:"none",borderRadius:"8px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold",marginRight:"10px"}},"Echo Calculator"),n.a.createElement("button",{onClick:()=>M("substatRollCalculator"),style:{backgroundColor:"substatRollCalculator"===B?v:E,color:h,border:"none",borderRadius:"8px",padding:"10px 20px",cursor:"pointer",fontWeight:"bold"}},"Substat Roll Calculator")),"echoCalculator"===B?n.a.createElement("div",{style:{display:"flex",gap:"20px",marginTop:"30px"}},n.a.createElement("div",{style:{flex:1,backgroundColor:o,borderRadius:"20px",padding:"20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}},n.a.createElement("h3",{style:{color:u,marginTop:0,marginBottom:"20px",fontSize:"18px"}},"Echo Parameters"),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Echo Cost:"),n.a.createElement("div",{style:{display:"flex",gap:"10px"}},S.map(e=>n.a.createElement("button",{key:e,onClick:()=>D(e),style:{backgroundColor:z===e?v:E,color:h,border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontWeight:z===e?"bold":"normal"}},e," Cost")))),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Main Stat:"),n.a.createElement("select",{value:T,onChange:e=>j(e.target.value),style:{backgroundColor:E,color:u,padding:"10px",borderRadius:"8px",border:"none",width:"100%"}},null===(e=C[z])||void 0===e?void 0:e.map(e=>n.a.createElement("option",{key:e,value:e},e)))),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Substats (select up to 5, no duplicates):"),n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",maxHeight:"200px",overflowY:"auto",padding:"5px",scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}},n.a.createElement("style",{jsx:!0},"\n                                        div::-webkit-scrollbar {\n                                            display: none;\n                                        }\n                                    "),k.map(e=>n.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center",backgroundColor:P.includes(e)?"rgba(88, 166, 255, 0.2)":"transparent",padding:"8px",borderRadius:"4px",cursor:P.includes(e)||P.length>=5?"not-allowed":"pointer",opacity:P.includes(e)||P.length>=5?.5:1},onClick:()=>(e=>{if(P.includes(e)){O(P.filter(t=>t!==e));const t={...A};delete t[e],I(t)}else P.length<5&&(O([...P,e]),I(t=>({...t,[e]:w[e].min})))})(e)},n.a.createElement("div",{style:{width:"16px",height:"16px",borderRadius:"3px",border:"1px solid "+x,backgroundColor:P.includes(e)?i:"transparent",marginRight:"8px"}}),n.a.createElement("span",null,e))))),P.length>0&&n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Minimum Substat Values:"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"10px"}},P.map(e=>n.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center",gap:"10px"}},n.a.createElement("span",{style:{width:"180px",fontSize:"14px"}},e,":"),n.a.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},n.a.createElement("input",{type:"number",value:A[e]||w[e].min,onChange:t=>ke(e,t.target.value),style:{backgroundColor:E,color:u,padding:"8px",borderRadius:"8px",border:"none",width:"80px"}}),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:"5px"}},n.a.createElement("button",{onClick:()=>ke(e,A[e],"up"),style:{background:"none",border:"none",color:u,cursor:"pointer",padding:"2px",fontSize:"12px"}},"\u25b2"),n.a.createElement("button",{onClick:()=>ke(e,A[e],"down"),style:{background:"none",border:"none",color:u,cursor:"pointer",padding:"2px",fontSize:"12px"}},"\u25bc"))),n.a.createElement("span",{style:{fontSize:"12px",color:x}},"Range: ",w[e].min," - ",w[e].max))))),n.a.createElement("button",{onClick:()=>{let e=!0;const t=C[z].length,a=Math.min(1/t*100,100),l=k.length,n=P.length;let o=0;if(n>0){const e=Be(l,5);let t=1;t*=Be(5,n);const a=5-n;for(let o=0;o<a;o++)t*=l-n-o;o=Math.min(t/e*100,100)}else o=100;let i=1;for(const s of P){const e=A[s];i*=Fe(s,e)/100}i=Math.min(100*i,100);const r=Math.min(a/100*(o/100)*(i/100)*100,100);return e&&(N(a),K(o),X(i),Y(r),G({mainStat:{name:T,probability:a.toFixed(4)},substats:P.map(e=>({name:e,value:A[e],probability:Fe(e,A[e]).toFixed(4)})),substatComboProbability:o.toFixed(6),valuesProbability:i.toFixed(6),totalProbability:r.toFixed(8)}),J(null)),()=>{e=!1}},style:{backgroundColor:v,color:h,padding:"12px 24px",borderRadius:"20px",border:"none",fontWeight:"bold",cursor:"pointer",width:"100%",marginTop:"10px"}},"Calculate Probability")),n.a.createElement("div",{style:{flex:1,backgroundColor:o,borderRadius:"20px",padding:"20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column"}},n.a.createElement("h3",{style:{color:u,marginTop:0,marginBottom:"20px",fontSize:"18px"}},"Results"),W?n.a.createElement("div",{style:{flex:1}},n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("div",{style:{backgroundColor:"rgba(88, 166, 255, 0.1)",padding:"15px",borderRadius:"10px",marginBottom:"20px",display:"flex",flexDirection:"column",gap:"10px"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"}},n.a.createElement("div",null,n.a.createElement("h4",{style:{margin:"0 0 10px 0",color:m,fontSize:"16px"}},"Total Probability"),n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:L<.01?f:g,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(L)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(L))),n.a.createElement("div",{style:{fontSize:"12px",color:x,marginTop:"5px"}},L<1e-4?"Extremely rare! You might need thousands of attempts.":L<.01?"Very rare. Good luck finding this Echo!":L<1?"Uncommon, but possible with dedication.":"Achievable with some persistence.")),(1===z||3===z)&&n.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"}},n.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"5px"}},n.a.createElement("label",{style:{fontSize:"12px",color:u}},"Confidence (%):"),n.a.createElement("input",{type:"number",value:q,onChange:e=>Q(Math.max(0,Math.min(99.99,parseFloat(e.target.value)||0))),style:{backgroundColor:E,color:u,padding:"5px",borderRadius:"5px",border:"none",width:"60px",fontSize:"12px"},min:"0",max:"99.99",step:"0.01"})),n.a.createElement("button",{onClick:()=>De(L,J,q),style:{backgroundColor:v,color:h,padding:"8px 16px",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap"}},"Approximate Needed Waveplates"))),U&&n.a.createElement("div",{style:{fontSize:"12px",color:U.message?f:u,marginTop:"5px"}},U.message?U.message:`Approximate Waveplates Needed for ${U.confidence}% Confidence: ${U.waveplates} (${U.time})`)),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},n.a.createElement("span",null,"Main Stat (",T,"):"),n.a.createElement("span",{style:{color:i,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(H)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(H)))),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},n.a.createElement("span",null,"Substat Combination:"),n.a.createElement("span",{style:{color:m,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me($)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze($)))),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},n.a.createElement("span",null,"Substat Value Thresholds:"),n.a.createElement("span",{style:{color:y,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(V)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(V))))),n.a.createElement("div",{style:{marginTop:"20px"}},n.a.createElement("h4",{style:{margin:"0 0 10px 0",color:u,fontSize:"14px"}},"Individual Substat Value Probabilities:"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"13px"}},W.substats.map(e=>n.a.createElement("div",{key:e.name,style:{display:"flex",justifyContent:"space-between",padding:"5px 10px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"5px"}},n.a.createElement("span",null,e.name," \u2265 ",e.value),n.a.createElement("span",{style:{color:parseFloat(e.probability)<50?y:g,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(parseFloat(e.probability))),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(parseFloat(e.probability)))))))),n.a.createElement("div",{style:{height:"200px",marginTop:"20px"}},n.a.createElement("h4",{style:{margin:"0 0 10px 0",color:u,fontSize:"14px",textAlign:"center"}},"Probability Breakdown"),n.a.createElement(r.a,{width:"100%",height:"90%"},n.a.createElement(s.a,null,n.a.createElement(p.a,{data:Te(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,fill:"#8884d8",label:Oe,labelLine:!0},Te().map((e,t)=>n.a.createElement(c.a,{key:"cell-"+t,fill:Pe[t%Pe.length]}))),n.a.createElement(d.a,{formatter:e=>[Me(e),"Probability"]})))))):n.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:x,textAlign:"center",padding:"20px"}},n.a.createElement("p",null,'Select your desired Echo parameters and click "Calculate Probability" to see results.')))):n.a.createElement("div",{style:{display:"flex",gap:"20px",marginTop:"30px"}},n.a.createElement("div",{style:{flex:1,backgroundColor:o,borderRadius:"20px",padding:"20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}},n.a.createElement("h3",{style:{color:u,marginTop:0,marginBottom:"20px",fontSize:"18px"}},"Current Echo Parameters"),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Echo Cost:"),n.a.createElement("div",{style:{display:"flex",gap:"10px"}},S.map(e=>n.a.createElement("button",{key:e,onClick:()=>_(e),style:{backgroundColor:Z===e?v:E,color:h,border:"none",borderRadius:"8px",padding:"8px 16px",cursor:"pointer",fontWeight:Z===e?"bold":"normal"}},e," Cost")))),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Main Stat:"),n.a.createElement("select",{value:ee,onChange:e=>te(e.target.value),style:{backgroundColor:E,color:u,padding:"10px",borderRadius:"8px",border:"none",width:"100%"}},null===(t=C[Z])||void 0===t?void 0:t.map(e=>n.a.createElement("option",{key:e,value:e},e)))),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Existing Substats (select up to 5, no duplicates):"),n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",maxHeight:"150px",overflowY:"auto",padding:"5px",scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}},n.a.createElement("style",{jsx:!0},"\n                                        div::-webkit-scrollbar {\n                                            display: none;\n                                        }\n                                    "),k.map(e=>n.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center",backgroundColor:ae.includes(e)?"rgba(88, 166, 255, 0.2)":"transparent",padding:"8px",borderRadius:"4px",cursor:ae.includes(e)||ae.length>=5?"not-allowed":"pointer",opacity:ae.includes(e)||ae.length>=5?.5:1},onClick:()=>(e=>{if(ae.includes(e)){le(ae.filter(t=>t!==e));const t={...ne};delete t[e],oe(t)}else if(ae.length<5&&(le([...ae,e]),oe(t=>({...t,[e]:w[e].min})),ie.includes(e))){re(ie.filter(t=>t!==e));const t={...se};delete t[e],pe(t)}})(e)},n.a.createElement("div",{style:{width:"16px",height:"16px",borderRadius:"3px",border:"1px solid "+x,backgroundColor:ae.includes(e)?i:"transparent",marginRight:"8px"}}),n.a.createElement("span",null,e))))),ae.length>0&&n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Existing Substat Values:"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"10px"}},ae.map(e=>n.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center",gap:"10px"}},n.a.createElement("span",{style:{width:"180px",fontSize:"14px"}},e,":"),n.a.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},n.a.createElement("input",{type:"number",value:ne[e]||w[e].min,onChange:t=>we(e,t.target.value),style:{backgroundColor:E,color:u,padding:"8px",borderRadius:"8px",border:"none",width:"80px"}}),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:"5px"}},n.a.createElement("button",{onClick:()=>we(e,ne[e],"up"),style:{background:"none",border:"none",color:u,cursor:"pointer",padding:"2px",fontSize:"12px"}},"\u25b2"),n.a.createElement("button",{onClick:()=>we(e,ne[e],"down"),style:{background:"none",border:"none",color:u,cursor:"pointer",padding:"2px",fontSize:"12px"}},"\u25bc"))),n.a.createElement("span",{style:{fontSize:"12px",color:x}},"Range: ",w[e].min," - ",w[e].max))))),n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Desired Substats to Roll (remaining slots: ",5-ae.length,"):"),n.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",maxHeight:"150px",overflowY:"auto",padding:"5px",scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"}},n.a.createElement("style",{jsx:!0},"\n                                        div::-webkit-scrollbar {\n                                            display: none;\n                                        }\n                                    "),k.map(e=>n.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center",backgroundColor:ie.includes(e)?"rgba(255, 182, 193, 0.2)":"transparent",padding:"8px",borderRadius:"4px",cursor:ae.includes(e)||ie.length>=5-ae.length||ie.includes(e)?"not-allowed":"pointer",opacity:ae.includes(e)||ie.length>=5-ae.length||ie.includes(e)?.5:1},onClick:()=>(e=>{const t=5-ae.length;if(ie.includes(e)){re(ie.filter(t=>t!==e));const t={...se};delete t[e],pe(t)}else ie.length<t&&(re([...ie,e]),pe(t=>({...t,[e]:w[e].min})))})(e)},n.a.createElement("div",{style:{width:"16px",height:"16px",borderRadius:"3px",border:"1px solid "+x,backgroundColor:ie.includes(e)?b:"transparent",marginRight:"8px"}}),n.a.createElement("span",null,e))))),ie.length>0&&n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("label",{style:{display:"block",marginBottom:"8px",color:u}},"Desired Substat Minimum Values:"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"10px"}},ie.map(e=>n.a.createElement("div",{key:e,style:{display:"flex",alignItems:"center",gap:"10px"}},n.a.createElement("span",{style:{width:"180px",fontSize:"14px"}},e,":"),n.a.createElement("div",{style:{position:"relative",display:"flex",alignItems:"center"}},n.a.createElement("input",{type:"number",value:se[e]||w[e].min,onChange:t=>Re(e,t.target.value),style:{backgroundColor:E,color:u,padding:"8px",borderRadius:"8px",border:"none",width:"80px"}}),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",marginLeft:"5px"}},n.a.createElement("button",{onClick:()=>Re(e,se[e],"up"),style:{background:"none",border:"none",color:u,cursor:"pointer",padding:"2px",fontSize:"12px"}},"\u25b2"),n.a.createElement("button",{onClick:()=>Re(e,se[e],"down"),style:{background:"none",border:"none",color:u,cursor:"pointer",padding:"2px",fontSize:"12px"}},"\u25bc"))),n.a.createElement("span",{style:{fontSize:"12px",color:x}},"Range: ",w[e].min," - ",w[e].max))))),n.a.createElement("button",{onClick:()=>{let e=!0;const t=()=>{e=!1},a=k.length,l=ae.length,n=ie.length,o=5-l;if(0===n)return e&&(ue(100),be(100),ye(100),Ee(100),de({mainStat:{name:ee,probability:100..toFixed(4)},desiredSubstats:[],substatComboProbability:100..toFixed(6),valuesProbability:100..toFixed(6),totalProbability:100..toFixed(8)}),he(null)),t;if(o<=0||n>o)return de({error:o<=0?"No more substat slots available.":"Desired substats exceed remaining slots."}),ue(0),be(0),ye(0),Ee(0),he(null),t;let i=0;if(n>0){const e=Be(a-l,o);let t=1;t*=Be(o,n);const r=o-n;for(let o=0;o<r;o++)t*=a-l-n-o;i=Math.min(t/e*100,100)}else i=100;let r=1;for(const p of ie){const e=se[p];r*=Fe(p,e)/100}r=Math.min(100*r,100);const s=Math.min(i/100*1*(r/100)*100,100);return e&&(ue(100),be(i),ye(r),Ee(s),de({mainStat:{name:ee,probability:100..toFixed(4)},desiredSubstats:ie.map(e=>({name:e,value:se[e],probability:Fe(e,se[e]).toFixed(4)})),substatComboProbability:i.toFixed(6),valuesProbability:r.toFixed(6),totalProbability:s.toFixed(8)}),he(null)),t},style:{backgroundColor:v,color:h,padding:"12px 24px",borderRadius:"20px",border:"none",fontWeight:"bold",cursor:"pointer",width:"100%",marginTop:"10px"}},"Calculate Roll Probability")),n.a.createElement("div",{style:{flex:1,backgroundColor:o,borderRadius:"20px",padding:"20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",display:"flex",flexDirection:"column"}},n.a.createElement("h3",{style:{color:u,marginTop:0,marginBottom:"20px",fontSize:"18px"}},"Roll Results"),ce?ce.error?n.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:f,textAlign:"center",padding:"20px"}},n.a.createElement("p",null,ce.error)):n.a.createElement("div",{style:{flex:1}},n.a.createElement("div",{style:{marginBottom:"20px"}},n.a.createElement("div",{style:{backgroundColor:"rgba(88, 166, 255, 0.1)",padding:"15px",borderRadius:"10px",marginBottom:"20px",display:"flex",flexDirection:"column",gap:"10px"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"}},n.a.createElement("div",null,n.a.createElement("h4",{style:{margin:"0 0 10px 0",color:m,fontSize:"16px"}},"Total Roll Probability"),n.a.createElement("div",{style:{fontSize:"24px",fontWeight:"bold",color:fe<.01?f:g,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(fe)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(fe))),n.a.createElement("div",{style:{fontSize:"12px",color:x,marginTop:"5px"}},fe<1e-4?"Extremely rare! You might need thousands of attempts.":fe<.01?"Very rare. Good luck rolling these substats!":fe<1?"Uncommon, but possible with dedication.":"Achievable with some persistence.")),(1===Z||3===Z)&&n.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px",flexWrap:"wrap"}},n.a.createElement("div",{style:{display:"flex",alignItems:"center",gap:"5px"}},n.a.createElement("label",{style:{fontSize:"12px",color:u}},"Confidence (%):"),n.a.createElement("input",{type:"number",value:Se,onChange:e=>Ce(Math.max(0,Math.min(99.99,parseFloat(e.target.value)||0))),style:{backgroundColor:E,color:u,padding:"5px",borderRadius:"5px",border:"none",width:"60px",fontSize:"12px"},min:"0",max:"99.99",step:"0.01"})),n.a.createElement("button",{onClick:()=>De(fe,he,Se),style:{backgroundColor:v,color:h,padding:"8px 16px",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap"}},"Approximate Needed Waveplates"))),ve&&n.a.createElement("div",{style:{fontSize:"12px",color:ve.message?f:u,marginTop:"5px"}},ve.message?ve.message:`Approximate Waveplates Needed for ${ve.confidence}% Confidence: ${ve.waveplates} (${ve.time})`)),n.a.createElement("div",{style:{marginBottom:"15px"}},n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},n.a.createElement("span",null,"Main Stat (",ee,"):"),n.a.createElement("span",{style:{color:i,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(me)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(me)))),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},n.a.createElement("span",null,"Substat Combination:"),n.a.createElement("span",{style:{color:m,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(xe)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(xe)))),n.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"5px"}},n.a.createElement("span",null,"Substat Value Thresholds:"),n.a.createElement("span",{style:{color:y,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(ge)),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(ge))))),ie.length>0&&n.a.createElement("div",{style:{marginTop:"20px"}},n.a.createElement("h4",{style:{margin:"0 0 10px 0",color:u,fontSize:"14px"}},"Desired Substat Value Probabilities:"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px",fontSize:"13px"}},ce.desiredSubstats.map(e=>n.a.createElement("div",{key:e.name,style:{display:"flex",justifyContent:"space-between",padding:"5px 10px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"5px"}},n.a.createElement("span",null,e.name," \u2265 ",e.value),n.a.createElement("span",{style:{color:parseFloat(e.probability)<50?y:g,position:"relative"}},n.a.createElement("span",{style:{cursor:"pointer",display:"inline-block"}},Me(parseFloat(e.probability))),n.a.createElement("div",{style:{position:"absolute",top:"-30px",left:"50%",transform:"translateX(-50%)",backgroundColor:E,color:u,padding:"5px 10px",borderRadius:"5px",fontSize:"12px",visibility:"hidden",pointerEvents:"none"},className:"probability-tooltip"},ze(parseFloat(e.probability)))))))),n.a.createElement("div",{style:{height:"200px",marginTop:"20px"}},n.a.createElement("h4",{style:{margin:"0 0 10px 0",color:u,fontSize:"14px",textAlign:"center"}},"Probability Breakdown"),n.a.createElement(r.a,{width:"100%",height:"90%"},n.a.createElement(s.a,null,n.a.createElement(p.a,{data:je(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:70,fill:"#8884d8",label:Oe,labelLine:!0},je().map((e,t)=>n.a.createElement(c.a,{key:"cell-"+t,fill:Pe[t%Pe.length]}))),n.a.createElement(d.a,{formatter:e=>[Me(e),"Probability"]})))))):n.a.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",color:x,textAlign:"center",padding:"20px"}},n.a.createElement("p",null,'Specify your Echo\'s current stats and desired substats, then click "Calculate Roll Probability" to see results.')))),n.a.createElement("div",{style:{backgroundColor:o,borderRadius:"20px",padding:"20px",marginTop:"20px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"}},n.a.createElement("h3",{style:{color:u,marginTop:0,marginBottom:"10px",fontSize:"18px"}},"Echo Substat Information"),n.a.createElement("p",{style:{color:x,fontSize:"14px",lineHeight:"1.5",margin:"0 0 10px 0"}},"\u2022 Substat ranges are the same for all Echo rarities",n.a.createElement("br",null),"\u2022 Each Echo can have up to 5 substats",n.a.createElement("br",null),"\u2022 Substats cannot repeat within the same Echo",n.a.createElement("br",null),"\u2022 Substat values are randomly distributed according to the probability tiers shown in the game",n.a.createElement("br",null),"\u2022 The calculator uses real distribution data from the game to provide accurate probability estimates"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"15px",padding:"10px"}},n.a.createElement("div",{style:{width:"100%",marginBottom:"20px"}},n.a.createElement("h4",{style:{color:u,fontSize:"16px",marginBottom:"10px"}},"Percentage-Based Substats Distribution"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},Ie.map(e=>{let{prob:t,index:a}=e;return Xe(t,Ne,$e,a-1)}))),n.a.createElement("div",{style:{width:"100%"}},n.a.createElement("h4",{style:{color:u,fontSize:"16px",marginBottom:"10px"}},"Flat Substats Distribution (HP, ATK, DEF)"),n.a.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"8px"}},We.map(e=>{let{prob:t,index:a}=e;return Xe(t,Ke,Ve,a-1)}))),n.a.createElement("style",{jsx:!0},"\n                            .probability-tooltip {\n                                visibility: hidden;\n                            }\n                            span:hover .probability-tooltip {\n                                visibility: visible;\n                            }\n                        ")))))};var u=function(){return n.a.createElement(m,null)};var x=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,470)).then(t=>{let{getCLS:a,getFID:l,getFCP:n,getLCP:o,getTTFB:i}=t;a(e),l(e),n(e),o(e),i(e)})};i.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(u,null))),x()}},[[243,1,2]]]);
//# sourceMappingURL=main.47c34cad.chunk.js.map